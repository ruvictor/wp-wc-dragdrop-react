(this["webpackJsonpdrag-and-drop-react"]=this["webpackJsonpdrag-and-drop-react"]||[]).push([[0],{26:function(t,e,n){},35:function(t,e,n){"use strict";n.r(e);var r=n(1),a=n(0),d=n.n(a),c=n(6),o=n.n(c),s=(n(26),n(12)),i=n(2),u=n(7),p=n(8),b=n(11),l=n(10),j=n(3),f=(n(27),n(4)),x=n(5),h={consumer_key:"ck_d8d533b58c08de9ad21cc73ea9cca871ef8857a7",consumer_secret:"cs_6a0bff1dbf6841f218651d8a3c9faa73a2f831ea",isLoaded:!1,products:{},totalPrice:0,productsColumn:{products:{id:"products",title:"Products",productIds:[]}},days:{monday:{id:"monday",title:"Monday",productIds:[]},tuesday:{id:"tuesday",title:"Tuesday",productIds:[]},wednesday:{id:"wednesday",title:"Wednesday",productIds:[]},thursday:{id:"thursday",title:"Thursday",productIds:[]},friday:{id:"friday",title:"Friday",productIds:[]},saturday:{id:"saturday",title:"Saturday",productIds:[]},sunday:{id:"sunday",title:"Sunday",productIds:[]}},daysOrder:["monday","tuesday","wednesday","thursday","friday","saturday","sunday"]};function O(){var t=Object(j.a)(["\n    border: 1px solid lightgrey;\n    padding: 8px;\n    margin-bottom: 8px;\n    border-radius: 2px;\n    background-color: #fff;\n    float: left;\n    box-sizing: border-box;\n    text-align: center;\n    font-size: 15px;\n"]);return O=function(){return t},t}var y=f.a.div(O()),g=function(t){Object(b.a)(n,t);var e=Object(l.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var t=this;return Object(r.jsx)(x.b,{draggableId:this.props.product.id,index:this.props.index,children:function(e){return Object(r.jsxs)(y,Object(i.a)(Object(i.a)(Object(i.a)({},e.draggableProps),e.dragHandleProps),{},{ref:e.innerRef,children:[Object(r.jsx)("img",{src:t.props.product.content,alt:"menu",style:{width:"70px",height:"70px"}}),Object(r.jsx)("br",{}),"$",t.props.product.price]}))}})}}]),n}(a.Component);function m(){var t=Object(j.a)(["\n    padding: 8px;\n"]);return m=function(){return t},t}function v(){var t=Object(j.a)(["\n    text-align: center;\n"]);return v=function(){return t},t}function I(){var t=Object(j.a)(["\n    margin: 8px;\n    border-radius: 2px;\n    width: 50%;\n    min-height: 195px;\n"]);return I=function(){return t},t}var w=f.a.div(I()),k=f.a.h3(v()),C=f.a.div(m()),_=function(t){Object(b.a)(n,t);var e=Object(l.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var t=this;return Object(r.jsxs)(w,{children:[Object(r.jsx)(k,{children:this.props.day.title}),Object(r.jsx)(x.c,{droppableId:this.props.day.id,children:function(e){return Object(r.jsxs)(C,Object(i.a)(Object(i.a)({ref:e.innerRef},e.droppableProps),{},{children:[t.props.products.map((function(t,e){return Object(r.jsx)(g,{product:t,index:e},t.id)})),e.placeholder]}))}})]})}}]),n}(a.Component),F=function(t){var e="?add-to-cart=";return Object.keys(t.days).map((function(n){return t.days[n].productIds.length>0?t.days[n].productIds.map((function(t){return e=e+t+":"+n+","})):""})),Object(r.jsx)("a",{style:{color:"white"},href:e.slice(0,-1),children:"place order"})},P=n.p+assetsMediaURL+"static/media/spinner.2e26f55b.gif";function S(){var t=Object(j.a)(["\n    display: table;\n    margin: 30px auto 0;\n    padding: 10px;\n    width: 100%;\n    max-width: 350px;\n    color: #fff;\n    background-color: #476B2D;\n    text-align: center;\n    text-transform: uppercase;\n    font-size: 17px;\n    border-radius: 5px;\n    box-shadow: 0 0 10px 0 rgba(0,0,0,0.15);\n    -moz-box-shadow: 0 0 10px 0 rgba(0,0,0,0.15);\n    -webkit-box-shadow: 0 0 10px 0 rgba(0,0,0,0.15);\n"]);return S=function(){return t},t}function z(){var t=Object(j.a)(["\n    padding: 8px;\n"]);return z=function(){return t},t}function L(){var t=Object(j.a)(["\n    padding: 8px;\n"]);return L=function(){return t},t}function D(){var t=Object(j.a)(["\n    display: table;\n    margin: 35px auto 0;\n    border-radius: 5px;\n    min-width: 632px;\n    background-color: #FFF;\n    box-shadow: 0 0 10px 0 rgba(0,0,0,0.15);\n    -moz-box-shadow: 0 0 10px 0 rgba(0,0,0,0.15);\n    -webkit-box-shadow: 0 0 10px 0 rgba(0,0,0,0.15);\n"]);return D=function(){return t},t}function E(){var t=Object(j.a)(["\n    border-top: 1px solid #ddd;\n    padding: 10px;\n    font-weight: bold;\n    font-size: 16px;\n    text-align: right;\n"]);return E=function(){return t},t}function T(){var t=Object(j.a)(["\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n"]);return T=function(){return t},t}function A(){var t=Object(j.a)(["\n    display: table;\n    margin: 20px auto 0;\n    width: 100%;\n    max-width: 900px;\n    background-color: #fff;\n    border-radius: 5px;\n    box-shadow: 0 0 10px 0 rgba(0,0,0,0.15);\n    -moz-box-shadow: 0 0 10px 0 rgba(0,0,0,0.15);\n    -webkit-box-shadow: 0 0 10px 0 rgba(0,0,0,0.15);\n"]);return A=function(){return t},t}function B(){var t=Object(j.a)(["\n    text-align: center;\n    padding: 20px 0;\n    font-size: 25px;\n    border-bottom: 1px solid #ddd;\n    text-transform: uppercase;\n    margin: 0 0 10px;\n"]);return B=function(){return t},t}function J(){var t=Object(j.a)(["\n    background-color: #F4F4F4;\n    margin: 0;\n    padding: 0 0 20px;\n    width: 100%;\n    display: table;\n"]);return J=function(){return t},t}var M=f.a.div(J()),R=f.a.h3(B()),$=f.a.div(A()),H=f.a.div(T()),N=f.a.div(E()),W=f.a.div(D()),Y=f.a.h3(L()),q=f.a.div(z()),G=f.a.div(S()),K=function(t){Object(b.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),d=0;d<r;d++)a[d]=arguments[d];return(t=e.call.apply(e,[this].concat(a))).state=h,t.onDragEnd=function(e){var n,r=e.destination,a=e.source,d=e.draggableId;if(r&&"products"!==r.droppableId&&(r.droppableId!==a.droppableId||r.index!==a.index)){var c="products"===a.droppableId?t.state.productsColumn[a.droppableId]:t.state.days[a.droppableId],o=t.state.days[r.droppableId],u=Array.from((a.droppableId,c.productIds));u.splice(a.index,1);var p=Object(i.a)(Object(i.a)({},c),{},{productIds:u}),b=Array.from(o.productIds);b.splice(r.index,0,d);var l=Object(i.a)(Object(i.a)({},o),{},{productIds:b});if("products"===a.droppableId){var j=t.state.productsColumn.products.productIds,f=d,x=j.indexOf(f);j.splice(x,1)}var h="products"===a.droppableId?t.state.products[d].price:0,O=Object(i.a)(Object(i.a)({},t.state),{},{totalPrice:parseInt(h)+parseInt(t.state.totalPrice),days:Object(i.a)(Object(i.a)({},t.state.days),{},(n={},Object(s.a)(n,p.id,p),Object(s.a)(n,l.id,l),n)),productsColumn:Object(i.a)({},t.state.productsColumn)});t.setState(O)}},t}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var t=this;fetch("https://localhost/wp-json/wc/v2/products/"+productParentId+"?consumer_key="+this.state.consumer_key+"&consumer_secret="+this.state.consumer_secret).then((function(t){return t.json()})).then((function(e){var n=e.grouped_products;n.map((function(r){return fetch("https://localhost/wp-json/wc/v2/products/"+r+"?consumer_key="+t.state.consumer_key+"&consumer_secret="+t.state.consumer_secret).then((function(t){return t.json()})).then((function(r){var a=r.id,d=r.images[0].src,c=r.price,o=Object(i.a)(Object(i.a)({},t.state),{},{isLoaded:Object.keys(t.state.products).length===n.length-1,products:Object(i.a)(Object(i.a)({},t.state.products),{},Object(s.a)({},a,Object(i.a)(Object(i.a)({},t.state.products[a]),{},{id:JSON.stringify(a),content:d,price:c}))),productsColumn:Object(i.a)(Object(i.a)({},t.state.productsColumn),{},{products:Object(i.a)(Object(i.a)({},t.state.productsColumn.products),{},{productIds:e.grouped_products.map(String)})})});t.setState(o)}),(function(e){t.setState({isLoaded:!1,error:e})}))}))}),(function(e){t.setState({isLoaded:!1,error:e})}))}},{key:"render",value:function(){var t=this,e=this.state.totalPrice,n=0!==this.state.productsColumn.products.productIds.length;return Object(r.jsx)(r.Fragment,{children:this.state.isLoaded?Object(r.jsx)(M,{children:Object(r.jsxs)(x.a,{onDragEnd:this.onDragEnd,children:[Object(r.jsxs)($,{style:{pointerEvents:n?"":"none"},children:[Object(r.jsx)(R,{children:"Personalize Your Order"}),Object(r.jsx)(H,{children:this.state.daysOrder.map((function(e){var n=t.state.days[e],a=n.productIds.map((function(e){return t.state.products[e]}));return Object(r.jsx)(_,{day:n,products:a},n.id)}))}),Object(r.jsx)(N,{children:Object(r.jsxs)("p",{children:["Total: $",e]})})]}),n?Object(r.jsxs)(W,{children:[Object(r.jsx)(Y,{children:this.state.productsColumn.products.title}),Object(r.jsx)(x.c,{droppableId:this.state.productsColumn.products.id,children:function(e){return Object(r.jsxs)(q,Object(i.a)(Object(i.a)({ref:e.innerRef},e.droppableProps),{},{children:[t.state.productsColumn.products.productIds.map((function(e,n){return Object(r.jsx)(g,{product:t.state.products[e],index:n},e)})),e.placeholder]}))}})]}):Object(r.jsx)(G,{children:Object(r.jsx)(F,{days:this.state.days})})]})}):Object(r.jsx)("img",{src:P,style:{width:"100px",display:"table",margin:"0 auto"},alt:"Spinner"})})}}]),n}(a.Component);var Q=function(){return Object(r.jsx)(K,{})},U=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,36)).then((function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,d=e.getLCP,c=e.getTTFB;n(t),r(t),a(t),d(t),c(t)}))};o.a.render(Object(r.jsx)(d.a.StrictMode,{children:Object(r.jsx)(Q,{})}),document.getElementById("root")),U()}},[[35,1,2]]]);
//# sourceMappingURL=main.ba8c8c2d.chunk.js.map